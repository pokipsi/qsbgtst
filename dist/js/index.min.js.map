{"version":3,"names":[],"mappings":"","sources":["index.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar keys = {\n  ENTER: 13,\n  ESC: 27,\n  ARROW_UP: 38,\n  ARROW_DOWN: 40\n};\n\nvar OSelect = /*#__PURE__*/function () {\n  function OSelect(_ref) {\n    var selector = _ref.selector,\n        data = _ref.data,\n        fxPopulate = _ref.fxPopulate,\n        onInputSet = _ref.onInputSet,\n        _ref$onSelected = _ref.onSelected,\n        onSelected = _ref$onSelected === void 0 ? function () {} : _ref$onSelected,\n        idActive = _ref.idActive,\n        hasImage = _ref.hasImage,\n        _ref$accessors = _ref.accessors,\n        accessors = _ref$accessors === void 0 ? {\n      id: \"id\",\n      name: \"name\"\n    } : _ref$accessors;\n\n    _classCallCheck(this, OSelect);\n\n    //order important\n    this.accessors = accessors;\n    this.hasImage = !!hasImage;\n    this.selector = selector;\n    this.$selector = $(selector);\n    this.prepare();\n    this.$img = this.$selector.find('i.o-select-img');\n    this.$input = this.$selector.find('input.form-control');\n    this.$placeholder = this.$selector.find('span.placeholder');\n    this.$ul = this.$selector.find('ul');\n    this.populate = fxPopulate;\n    this.onInputSet = onInputSet;\n    this.onSelected = onSelected;\n    this.data = data;\n    this.filtered = _toConsumableArray(data);\n    this.setSelectedItem(idActive);\n    this.updateList(data);\n    this.setInput();\n    this.setInputListeners();\n    this.setItemsListeners();\n    this.cursor = -1;\n  }\n\n  _createClass(OSelect, [{\n    key: \"setData\",\n    value: function setData(data) {\n      this.data = data;\n      this.filtered = _toConsumableArray(data);\n    }\n  }, {\n    key: \"updateList\",\n    value: function updateList(data) {\n      var _this = this;\n\n      var html = [];\n      html = data.map(function (item) {\n        return _this.populate(item);\n      });\n      this.$ul.html(html.join('')); // this.setItemsListeners();\n    }\n  }, {\n    key: \"setItemsListeners\",\n    value: function setItemsListeners() {\n      var self = this;\n      $(document).on(\"click\", \"\".concat(this.selector, \" ul li\"), function () {\n        console.log(\"click\");\n        if ($(this).hasClass('divider')) return;\n        var id = $(this).data('id');\n        console.log(id);\n        self.setSelectedItem(id);\n        self.setInput();\n        self.onSelected(id);\n      });\n    }\n  }, {\n    key: \"setSelectedItem\",\n    value: function setSelectedItem(idActive) {\n      var _this2 = this;\n\n      this.selectedItem = this.data.filter(function (item) {\n        return item[_this2.accessors.id] == idActive;\n      })[0];\n      return this;\n    }\n  }, {\n    key: \"setCursor\",\n    value: function setCursor(key) {\n      if (key == keys.ARROW_DOWN) {\n        this.cursor = this.cursor != this.filtered.length ? this.cursor + 1 : this.cursor;\n      } else {\n        this.cursor = this.cursor != -1 ? this.cursor - 1 : this.cursor;\n      }\n\n      this.setSelectedClass();\n    }\n  }, {\n    key: \"setSelectedClass\",\n    value: function setSelectedClass() {\n      var _this3 = this;\n\n      var lis = this.$ul.find('li');\n      $(lis).removeClass('selected');\n\n      if (this.cursor != -1) {\n        var self = this;\n        $(lis[self.cursor]).addClass('selected');\n        var id = $(lis[self.cursor]).data('id') || this.filtered[0][this.accessors.id];\n        var item = this.data.filter(function (item) {\n          return item[_this3.accessors.id] == id;\n        })[0];\n        self.$placeholder.text(item[this.accessors.name]);\n        self.setInput(item, true);\n      }\n    }\n  }, {\n    key: \"setInputListeners\",\n    value: function setInputListeners() {\n      var _this4 = this;\n\n      this.$input.focus(function (e) {\n        _this4.$input.val('');\n\n        _this4.$placeholder.text(_this4.selectedItem[_this4.accessors.name]);\n\n        _this4.$ul.slideDown(200);\n\n        e.stopPropagation();\n      });\n      this.$input.blur(function (e) {\n        _this4.$placeholder.text('');\n\n        setTimeout(function () {\n          _this4.setInput();\n\n          _this4.$ul.slideUp(100);\n\n          _this4.updateList(_this4.data);\n\n          e.stopPropagation();\n        }, 100);\n      });\n      this.$input.keyup(function (e) {\n        var value = e.target.value;\n\n        if (e.which == keys.ESC) {\n          _this4.cursor = -1;\n\n          _this4.$input.blur();\n        }\n\n        if (e.which == keys.ENTER) {\n          _this4.cursor = -1;\n\n          var li = _this4.$ul.find('li.selected');\n\n          if (li) {\n            var id = $(li).data('id') || _this4.filtered[0][_this4.accessors.id];\n\n            _this4.setSelectedItem(id);\n\n            _this4.$input.blur();\n\n            setTimeout(function () {\n              _this4.updateList(_this4.data);\n\n              _this4.onSelected(id);\n            }, 300);\n          }\n        } else if (e.which == keys.ARROW_UP || e.which == keys.ARROW_DOWN) {\n          _this4.setCursor(e.which);\n\n          _this4.$input.val(value);\n        } else {\n          if (value.trim() != '') {\n            _this4.cursor = 0;\n\n            var filtered = _this4.data.filter(function (c) {\n              return c[_this4.accessors.name] && c[_this4.accessors.name].toLowerCase().startsWith(value.toLowerCase());\n            });\n\n            _this4.filtered = filtered.length > 0 ? filtered : _this4.filtered;\n\n            _this4.updateList(_toConsumableArray(filtered));\n\n            _this4.setSelectedClass(_this4.filtered[0]);\n\n            var temp = _this4.filtered.length > 0 ? _this4.filtered[0] : _this4.selectedItem;\n\n            _this4.$placeholder.text(temp[_this4.accessors.name]);\n\n            _this4.$input.val(temp[_this4.accessors.name].substring(0, value.length));\n\n            _this4.setInput(temp, true);\n          } else {\n            _this4.cursor = -1;\n\n            _this4.updateList(_this4.data);\n\n            _this4.$placeholder.text(_this4.selectedItem[_this4.accessors.name]);\n\n            _this4.setInput(_this4.selectedItem, true);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"setInput\",\n    value: function setInput() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.selectedItem;\n      var dontSetVal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!dontSetVal) {\n        this.$input.val(item[this.accessors.name]);\n      }\n\n      if (this.onInputSet) {\n        this.onInputSet(this.$img, item[this.accessors.id]);\n      }\n    }\n  }, {\n    key: \"prepare\",\n    value: function prepare() {\n      var html = this.hasImage ? '<i class=\"o-select-img\"></i>' : '';\n      html += \"<input type=\\\"text\\\" class=\\\"form-control\\\">\\n            <span class='placeholder'></span>\\n            <ul></ul>\";\n      this.$selector.html(html);\n    }\n  }]);\n\n  return OSelect;\n}();\n\nexports[\"default\"] = OSelect;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DefaultSelector = /*#__PURE__*/function () {\n  function DefaultSelector($selector, fxOnParamSelected, defaultLabel, paramName, keyName) {\n    var displayName = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"displayName\";\n\n    _classCallCheck(this, DefaultSelector);\n\n    this.$selector = $selector;\n    this.defaultLabel = defaultLabel;\n    this.paramName = paramName;\n    this.keyName = keyName;\n    this.displayName = displayName;\n    this.add();\n    this.addHandler(fxOnParamSelected);\n  }\n\n  _createClass(DefaultSelector, [{\n    key: \"add\",\n    value: function add() {\n      this.$selector.html(this.getDefaultOption(this.defaultLabel, \"-1\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render(items, selectedValue) {\n      var _this = this;\n\n      var html = items ? items.map(function (item) {\n        var count = item.displayCount ? \"(\".concat(item.displayCount, \")\") : '';\n        return \"<option value='\".concat(item[_this.keyName], \"' \\n                \").concat(item[_this.keyName] == selectedValue ? 'selected' : '', \">\\n                    \").concat(item[_this.displayName], \" \").concat(count, \"\\n                </option>\");\n      }) : \"\";\n      this.$selector.html([this.getDefaultOption(this.defaultLabel, \"-1\")].concat(_toConsumableArray(html)).join(''));\n    }\n  }, {\n    key: \"getDefaultOption\",\n    value: function getDefaultOption(name, value) {\n      return \"<option value=\\\"\".concat(value, \"\\\">\").concat(name, \"</option>\");\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(fxHandler) {\n      var _this2 = this;\n\n      this.$selector.change(function (e) {\n        fxHandler(_this2.paramName, e.target.value);\n      });\n    }\n  }]);\n\n  return DefaultSelector;\n}();\n\nexports[\"default\"] = DefaultSelector;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _oSelect = _interopRequireDefault(require(\"../o-select\"));\n\nvar _defaultSelector = _interopRequireDefault(require(\"./default-selector\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar QS = /*#__PURE__*/function () {\n  function QS() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$page = _ref.page,\n        page = _ref$page === void 0 ? \"index\" : _ref$page,\n        _ref$orientation = _ref.orientation,\n        orientation = _ref$orientation === void 0 ? \"vertical\" : _ref$orientation;\n\n    _classCallCheck(this, QS);\n\n    this.paramMap = this.getInitialParamMap();\n    this.layoutManager = new LayoutManager({\n      page: page,\n      fxOnParamSelected: this.onParamSelected.bind(this),\n      fxOnZip: this.onZip.bind(this),\n      fxOnReset: this.onReset.bind(this),\n      paramMap: this.paramMap,\n      orientation: orientation,\n      qs: this\n    });\n    this.countries = [];\n    this.cached = {};\n    this.idTimeout = 0;\n  }\n\n  _createClass(QS, [{\n    key: \"endpoint\",\n    value: function endpoint(paramMap) {\n      if (paramMap.idMake) {\n        return \"../data/\".concat(paramMap.idMake, \".json\");\n      }\n\n      return '/data/default.json'; // return '/ooyyo-services/resources/quicksearch/qselements?json=' + encodeURIComponent(JSON.stringify(paramMap));\n    }\n  }, {\n    key: \"get\",\n    value: function get(paramMap) {\n      var _this = this;\n\n      var endpoint = this.endpoint(paramMap);\n      return fetch(endpoint).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this.cached = data;\n\n        var ret = _objectSpread({}, data);\n\n        return new Promise(function (resolve, reject) {\n          resolve(ret);\n        });\n      });\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.get(this.paramMap);\n    }\n  }, {\n    key: \"getRequiredParamMap\",\n    value: function getRequiredParamMap() {\n      var ret = {\n        idDomain: OYO.appParams.idDomain,\n        idCountry: OYO.appParams.idCountry,\n        idLanguage: OYO.appParams.idLanguage,\n        idCurrency: OYO.appParams.idCurrency,\n        isNew: OYO.appParams.isNew,\n        qsType: 'advanced'\n      };\n      return ret;\n    }\n  }, {\n    key: \"getInitialParamMap\",\n    value: function getInitialParamMap() {\n      var ret = this.getRequiredParamMap();\n\n      if (OYO.appParams.idMake !== '') {\n        ret.idMake = OYO.appParams.idMake;\n\n        if (OYO.appParams.idModel !== '') {\n          ret.idModel = OYO.appParams.idModel;\n\n          if (OYO.appParams.idTrim !== '') {\n            ret.idTrim = OYO.appParams.idTrim;\n          }\n        }\n      }\n\n      var otherParams = ['priceFrom', 'priceTo', 'yearFrom', 'yearTo', 'mileageFrom', 'mileageTo', 'idBodytype', 'idFueltype', 'zipCode', 'radius', 'idState', 'idCity', 'idTransmission', 'idColor', 'power'];\n      otherParams.forEach(function (paramName) {\n        if (OYO.appParams[paramName] !== '') ret[paramName] = OYO.appParams[paramName];\n      });\n      return ret;\n    }\n  }, {\n    key: \"onParamSelected\",\n    value: function onParamSelected(name, value, removeIfExists) {\n      var _this2 = this;\n\n      if (removeIfExists && this.paramMap[name] == value) {\n        delete this.paramMap[name];\n      } else {\n        if (name == 'idMake') {\n          delete this.paramMap['idModel'];\n          delete this.paramMap['idTrim'];\n        }\n\n        if (name == 'idModel') {\n          delete this.paramMap['idTrim'];\n        }\n\n        if (value == '-1' || value == '200000') {\n          delete this.paramMap[name];\n        } else {\n          this.paramMap[name] = value;\n        }\n      }\n\n      this.getData().then(function (data) {\n        _this2.layoutManager.render(data);\n      });\n    }\n  }, {\n    key: \"onZip\",\n    value: function onZip(_ref2) {\n      var _this3 = this;\n\n      var zipCode = _ref2.zipCode,\n          radius = _ref2.radius;\n      var sendRequest = false;\n\n      if (zipCode) {\n        if (zipCode != this.paramMap[\"zipCode\"]) {\n          this.paramMap[\"zipCode\"] = zipCode;\n\n          if (!this.paramMap['radius']) {\n            this.paramMap[\"radius\"] = \"30\";\n          }\n\n          sendRequest = true;\n        }\n      } else {\n        if (radius) {\n          this.paramMap[\"radius\"] = radius;\n\n          if (this.paramMap['zipCode']) {\n            sendRequest = true;\n          }\n        } else {\n          delete this.paramMap['zipCode'];\n          delete this.paramMap['radius'];\n          sendRequest = true;\n        }\n      }\n\n      if (sendRequest) {\n        this.getData().then(function (data) {\n          _this3.layoutManager.render(data);\n        });\n        return true;\n      } else return false;\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      var _this4 = this;\n\n      this.paramMap = this.getRequiredParamMap();\n      this.layoutManager.paramMap = this.paramMap;\n      this.getData().then(function (data) {\n        _this4.layoutManager.render(data);\n      });\n    }\n  }, {\n    key: \"deleteParams\",\n    value: function deleteParams() {\n      delete this.paramMap.idMake;\n      delete this.paramMap.idModel;\n      delete this.paramMap.idTrim;\n      delete this.paramMap.priceFrom;\n      delete this.paramMap.priceTo;\n      delete this.paramMap.yearFrom;\n      delete this.paramMap.yearTo;\n      delete this.paramMap.mileageFrom;\n      delete this.paramMap.mileageTo;\n      delete this.paramMap.idBodytype;\n      delete this.paramMap.idFueltype;\n      delete this.paramMap.zipCode;\n      delete this.paramMap.radius;\n      delete this.paramMap.idState;\n      delete this.paramMap.idCity;\n      delete this.paramMap.idTransmission;\n      delete this.paramMap.idColor;\n      delete this.paramMap.power;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this5 = this;\n\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          fixedSearchButton = _ref3.fixedSearchButton;\n\n      this.getData().then(function (data) {\n        _this5.layoutManager.render(data);\n      });\n      $(document).on(\"qs-search\", function (e, paramMap) {\n        var fxOnResponse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n        _this5.get(paramMap).then(function (data) {\n          fxOnResponse(data);\n        });\n      });\n      $(document).on(\"qs-search-param-map\", function (e) {\n        var fxOnParamMap = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        fxOnParamMap(_this5.paramMap);\n      });\n      $(document).on(\"qs-search-initial-param-map\", function (e) {\n        var fxOnParamMap = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        fxOnParamMap(_this5.getInitialParamMap());\n      });\n    }\n  }]);\n\n  return QS;\n}();\n\nexports[\"default\"] = QS;\n\nvar LayoutManager = /*#__PURE__*/function () {\n  function LayoutManager(_ref4) {\n    var page = _ref4.page,\n        fxOnParamSelected = _ref4.fxOnParamSelected,\n        fxOnZip = _ref4.fxOnZip,\n        fxOnReset = _ref4.fxOnReset,\n        paramMap = _ref4.paramMap,\n        orientation = _ref4.orientation,\n        qs = _ref4.qs;\n\n    _classCallCheck(this, LayoutManager);\n\n    this.page = page;\n    this.orientation = orientation;\n    this.paramMap = paramMap;\n    this.fxOnParamSelected = fxOnParamSelected;\n    this.fxOnZip = fxOnZip;\n    this.fxOnReset = fxOnReset;\n    this.enabled = false;\n    this.loading = true;\n    this.makeSelector = this.getMakeSelector();\n    this.modelSelector = new _defaultSelector[\"default\"]($(\"._js-qs-model\"), this.onParamSelected.bind(this), OYO.labels.model, \"idModel\", \"idModel\", \"name\");\n    this.trimSelector = new _defaultSelector[\"default\"]($(\"._js-qs-trim\"), this.onParamSelected.bind(this), OYO.labels.trim, \"idTrim\", \"idTrim\", \"name\");\n  }\n\n  _createClass(LayoutManager, [{\n    key: \"onParamSelected\",\n    value: function onParamSelected(name, value, removeIfExists) {\n      this.lock();\n      this.fxOnParamSelected(name, value, removeIfExists);\n    }\n  }, {\n    key: \"onZip\",\n    value: function onZip(_ref5) {\n      var zipCode = _ref5.zipCode,\n          radius = _ref5.radius;\n      var shouldLock = this.fxOnZip({\n        zipCode: zipCode,\n        radius: radius\n      });\n      if (shouldLock) this.lock();\n    }\n  }, {\n    key: \"lock\",\n    value: function lock() {\n      this.loading = true;\n      this.renderLock();\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      this.loading = false;\n      this.renderLock();\n    }\n  }, {\n    key: \"renderLock\",\n    value: function renderLock() {\n      if (this.loading) {\n        $(\"._js-qs-lock\").show();\n      } else {\n        $(\"._js-qs-lock\").hide();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      if (data.status == 1) {\n        this.renderMakeSelector(data.makes);\n        this.updateModelTrimSelectorsState();\n        this.modelSelector.render(data.models.black, this.paramMap.idModel);\n        this.trimSelector.render(data.trims.black, this.paramMap.idTrim);\n      }\n\n      this.unlock();\n    }\n  }, {\n    key: \"getMakeSelector\",\n    value: function getMakeSelector() {\n      var _this6 = this;\n\n      return new _oSelect[\"default\"]({\n        selector: \"._js-qs-make\",\n        data: [{\n          idMake: -1,\n          name: OYO.labels.make\n        }],\n        fxPopulate: function fxPopulate(m) {\n          if (m.divider) return \"<li class='divider'></li>\";\n          var count = m.idMake == -1 ? '' : m.displayCount;\n          return \"<li data-id='\".concat(m.idMake, \"'>\\n                            <i class=\\\"logo-make logo-make-\").concat(m.idMake, \" mr-12\\\"></i> \\n                            <div>\").concat(m.name, \"</div>\\n                            <span class=\\\"ml-auto pr-16\\\">\").concat(count, \"</span>\\n                        </li>\");\n        },\n        onInputSet: function onInputSet($img, id) {\n          $img.attr('class', \"o-select-img logo-make logo-make-\".concat(id));\n        },\n        onSelected: function onSelected(id) {\n          _this6.onParamSelected(\"idMake\", String(id));\n        },\n        idActive: -1,\n        hasImage: true,\n        accessors: {\n          id: \"idMake\",\n          name: \"name\"\n        }\n      });\n    }\n  }, {\n    key: \"renderMakeSelector\",\n    value: function renderMakeSelector(input) {\n      var topIds = input.top.map(function (make) {\n        return make.idMake;\n      });\n      var allButTop = input.black.filter(function (make) {\n        return !topIds.includes(make.idMake);\n      });\n      var makes = [{\n        idMake: -1,\n        name: OYO.labels.make\n      }].concat(_toConsumableArray(input.top), [{\n        divider: true\n      }], _toConsumableArray(allButTop));\n      var selectedMake = this.paramMap.idMake || -1;\n      this.makeSelector.setData(makes);\n      this.makeSelector.updateList(makes);\n      this.makeSelector.setSelectedItem(selectedMake);\n      this.makeSelector.setInput();\n    }\n  }, {\n    key: \"updateModelTrimSelectorsState\",\n    value: function updateModelTrimSelectorsState() {\n      if (this.paramMap.idModel && this.paramMap.idModel > -1) {\n        $(\"._js-qs-trim\").removeAttr('disabled');\n\n        if (OYO.utils.res.isMobile() || this.orientation == \"vertical\") {\n          $(\"._js-qs-trim-wrapper\").show();\n        }\n      } else {\n        $(\"._js-qs-trim\").attr('disabled', true);\n\n        if (OYO.utils.res.isMobile() || this.orientation == \"vertical\") {\n          $(\"._js-qs-trim-wrapper\").hide();\n        }\n      }\n\n      if (this.paramMap.idMake && this.paramMap.idMake > -1) {\n        $(\"._js-qs-model\").removeAttr('disabled');\n\n        if (OYO.utils.res.isMobile() || this.orientation == \"vertical\") {\n          $(\"._js-qs-model-wrapper\").show();\n        }\n      } else {\n        $(\"._js-qs-model\").attr('disabled', true);\n\n        if (OYO.utils.res.isMobile() || this.orientation == \"vertical\") {\n          $(\"._js-qs-model-wrapper\").hide();\n        }\n      }\n    }\n  }]);\n\n  return LayoutManager;\n}();\n\n},{\"../o-select\":1,\"./default-selector\":2}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _quickSearch = _interopRequireDefault(require(\"./features/qs/quick-search\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n$(document).ready(function () {\n  var qs = new _quickSearch[\"default\"]({\n    page: 'index',\n    orientation: 'horizontal'\n  });\n  qs.init({\n    fixedSearchButton: true\n  });\n  OYO.utils.showPageScrollbar();\n});\n\n},{\"./features/qs/quick-search\":3}]},{},[4]);\n"],"file":"index.min.js"}