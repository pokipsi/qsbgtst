{"version":3,"names":[],"mappings":"","sources":["utils/utils.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Base64 = void 0;\n// Create Base64 Object\nvar Base64 = {\n  _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n  encode: function encode(e) {\n    var t = \"\";\n    var n, r, i, s, o, u, a;\n    var f = 0;\n    e = this._utf8_encode(e);\n\n    while (f < e.length) {\n      n = e.charCodeAt(f++);\n      r = e.charCodeAt(f++);\n      i = e.charCodeAt(f++);\n      s = n >> 2;\n      o = (n & 3) << 4 | r >> 4;\n      u = (r & 15) << 2 | i >> 6;\n      a = i & 63;\n\n      if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }\n\n      t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }\n\n    return t;\n  },\n  decode: function decode(e) {\n    var t = \"\";\n    var n, r, i;\n    var s, o, u, a;\n    var f = 0;\n    e = e.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n    while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));\n      o = this._keyStr.indexOf(e.charAt(f++));\n      u = this._keyStr.indexOf(e.charAt(f++));\n      a = this._keyStr.indexOf(e.charAt(f++));\n      n = s << 2 | o >> 4;\n      r = (o & 15) << 4 | u >> 2;\n      i = (u & 3) << 6 | a;\n      t = t + String.fromCharCode(n);\n\n      if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }\n\n      if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }\n\n    t = this._utf8_decode(t);\n    return t;\n  },\n  _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/\\r\\n/g, \"\\n\");\n    var t = \"\";\n\n    for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);\n\n      if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);\n        t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);\n        t += String.fromCharCode(r >> 6 & 63 | 128);\n        t += String.fromCharCode(r & 63 | 128);\n      }\n    }\n\n    return t;\n  },\n  _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";\n    var n = 0;\n    var r = 0,\n        c1 = 0,\n        c2 = 0,\n        c3 = 0;\n\n    while (n < e.length) {\n      r = e.charCodeAt(n);\n\n      if (r < 128) {\n        t += String.fromCharCode(r);\n        n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);\n        t += String.fromCharCode((r & 31) << 6 | c2 & 63);\n        n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);\n        c3 = e.charCodeAt(n + 2);\n        t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n        n += 3;\n      }\n    }\n\n    return t;\n  }\n};\nexports.Base64 = Base64;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storage = void 0;\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar storage = {\n  types: {\n    COOKIE: 0,\n    LOCAL: 1,\n    SESSION: 2\n  },\n  get: function get(name, type) {\n    var t = type !== undefined ? type : this.types.LOCAL;\n\n    if (t === this.types.COOKIE) {\n      return _jsCookie[\"default\"].get(name);\n    } else {\n      return window.localStorage[name];\n    }\n  },\n  getJSON: function getJSON(name, type) {\n    var t = type !== undefined ? type : this.types.LOCAL;\n\n    if (t === this.types.COOKIE) {\n      return _jsCookie[\"default\"].getJSON(name);\n    } else {\n      var val = window.localStorage[name];\n      var json;\n\n      try {\n        json = JSON.parse(val);\n      } catch (e) {\n        json = null;\n      }\n\n      return json;\n    }\n  },\n  set: function set(name, value, type) {\n    var t = type !== undefined ? type : this.types.LOCAL;\n\n    if (t === this.types.COOKIE) {\n      _jsCookie[\"default\"].set(name, value, {\n        domain: '.ooyyo.com'\n      });\n    } else {\n      var v = typeof value === 'string' || value instanceof String ? value : JSON.stringify(value);\n      window.localStorage.setItem(name, v);\n    }\n  },\n  remove: function remove(name, type) {\n    var t = type !== undefined ? type : this.types.LOCAL;\n\n    if (t === this.types.COOKIE) {\n      _jsCookie[\"default\"].remove(name, {\n        domain: '.ooyyo.com'\n      });\n    } else {\n      window.localStorage.removeItem(name);\n    }\n  }\n};\nexports.storage = storage;\n\n},{\"js-cookie\":1}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ResponsiveHelper = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar responsiveHelper = function responsiveHelper() {\n  var edge = {\n    XSS_MIN: 0,\n    XS_MIN: 480,\n    SM_MIN: 768,\n    MD_MIN: 992,\n    LG_MIN: 1150\n  },\n      screenType = null,\n      screenTypes = {\n    M: 'mobile',\n    T: 'tablet',\n    D: 'desktop'\n  },\n      getScreenWidth = function getScreenWidth() {\n    return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n  },\n      getScreenType = function getScreenType() {\n    var w = getScreenWidth();\n\n    if (w < edge.SM_MIN) {\n      return screenTypes.M;\n    } else if (w >= edge.SM_MIN && w < edge.MD_MIN) {\n      return screenTypes.T;\n    } else if (w >= edge.MD_MIN) {\n      return screenTypes.D;\n    }\n  },\n      handleDesktop,\n      handleTablet,\n      handleMobile,\n      isDesktop = function isDesktop() {\n    return getScreenType() === screenTypes.D;\n  },\n      isTablet = function isTablet() {\n    return getScreenType() === screenTypes.T;\n  },\n      isMobile = function isMobile() {\n    return getScreenType() === screenTypes.M;\n  },\n      handle = function handle(callbacks) {\n    if (!callbacks) {\n      return;\n    }\n\n    var switcher = function switcher() {\n      screenType = getScreenType();\n\n      switch (screenType) {\n        case screenTypes.D:\n          if (handleDesktop) handleDesktop();\n\n          if (callbacks.onDesktop) {\n            callbacks.onDesktop();\n          }\n\n          break;\n\n        case screenTypes.M:\n          if (handleMobile) handleMobile();\n\n          if (callbacks.onMobile) {\n            callbacks.onMobile();\n          }\n\n          break;\n\n        case screenTypes.T:\n          if (handleTablet) handleTablet();\n\n          if (callbacks.onTablet) {\n            callbacks.onTablet();\n          }\n\n          break;\n      }\n    };\n\n    switcher();\n    $(window).resize(function () {\n      //check if screen size level changed\n      if (getScreenType() !== screenType) {\n        switcher();\n      }\n    });\n  };\n\n  return {\n    getScreenType: getScreenType,\n    handleDifferentScreenSizes: handle,\n    setCommonHandlerDesktop: function setCommonHandlerDesktop(fx) {\n      handleDesktop = fx;\n    },\n    setCommonHandlerTablet: function setCommonHandlerTablet(fx) {\n      handleTablet = fx;\n    },\n    setCommonHandlerMobile: function setCommonHandlerMobile(fx) {\n      handleMobile = fx;\n    },\n    isMobile: isMobile,\n    isTablet: isTablet,\n    isDesktop: isDesktop\n  };\n};\n\nvar ResponsiveHelper = function ResponsiveHelper() {\n  _classCallCheck(this, ResponsiveHelper);\n\n  return responsiveHelper();\n};\n\nexports.ResponsiveHelper = ResponsiveHelper;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _base = require(\"./base64.js\");\n\nvar _ooyyoStorage = require(\"./ooyyo-storage.js\");\n\nvar _responsiveHelper = require(\"./responsive-helper.js\");\n\nvar responsiveHelper = new _responsiveHelper.ResponsiveHelper();\n/**\n * common functions for all files\n * requires: jquery\n */\n\nwindow.OYO.utils = {\n  res: responsiveHelper,\n  storage: _ooyyoStorage.storage,\n  base64: _base.Base64,\n\n  /**\n   * <strong>regContainsAllDigits(_string, options)</strong>\n   * @param {String} _string - required parameter - string to be checked\n   * @param {Object} options - optional parameter, holds inner parameters like:\n   * <ul>\n   *   <li>\n   *       {Number} count\n   *   </li>\n   * </ul>\n   * @returns {Boolean} - if _string consists of all digits method returns true.\n   * But, if options.count set, _string length has to be equal to the options.count value\n   */\n  // regContainsAllDigits: function (_string, options) {\n  //     var a = \"+\";\n  //     if (options && options.count) {\n  //         a = \"{\" + options.count + \"}\";\n  //     }\n  //     var reg = new RegExp(\"^[0-9]\" + a + \"$\");\n  //     return (reg.test(_string));\n  // },\n\n  /**\n   * <strong>loadNoPhoto(img)</strong>\n   * @param {HTMLImageElement} img\n   * @returns {undefined}\n   */\n  loadNoPhoto: function loadNoPhoto(img) {\n    $(img).attr('src', OYO.images.NO_IMAGE);\n  },\n\n  /**\n   * <strong>gotoPage(options)</strong>\n   * @param {Object} options (required: options.url parameter)\n   * @returns {Boolean} \n   */\n  blockHashFeature: false,\n  gotoPage: function gotoPage(options) {\n    var url;\n\n    if (options.encoded) {\n      //decode base 64 encoded url. \n      //options.encoded flag value must be set to true if url is encoded (base 64)\n      url = _base.Base64.decode(options.url);\n    } else {\n      url = options.url;\n    }\n\n    if (url.toString() !== \"\") {\n      //depending on flowtype, page will be opened in new window\n      if (options.flowtype) {\n        var flowtype = parseInt(options.flowtype);\n\n        if (flowtype === 5 || flowtype === 6) {\n          window.open(url, \"_blank\");\n        } else {\n          //block hash functionality\n          this.blockHashFeature = true;\n          document.location.href = url;\n        }\n      } //if page should be opened in new tab - set newTab parameter\n      else if (options.newTab) {\n          window.open(url, \"_blank\");\n        } else {\n          //block hash functionality\n          this.blockHashFeature = true;\n          document.location.href = url;\n        }\n    }\n\n    return false;\n  },\n\n  /**\n   * <strong>refreshPage(options)</strong>\n   * @param {Object} options\n   * @returns {undefined}\n   */\n  refreshPage: function refreshPage(options) {\n    if (options && options.ignoreHash) {\n      //set ignoreHash parameter if # in url should be ignored\n      window.location.href = window.location.href.split(\"#\")[0];\n    } else {\n      //or just reload current url\n      window.location.reload();\n    }\n  },\n\n  /**\n   * <strong>getScrollBarWidth()</strong>\n   * @returns {Number} scroll bar width\n   */\n  getScrollBarWidth: function getScrollBarWidth() {\n    var inner = document.createElement('p');\n    inner.style.width = \"100%\";\n    inner.style.height = \"200px\";\n    var outer = document.createElement('div');\n    outer.style.position = \"absolute\";\n    outer.style.top = \"0px\";\n    outer.style.left = \"0px\";\n    outer.style.visibility = \"hidden\";\n    outer.style.width = \"200px\";\n    outer.style.height = \"150px\";\n    outer.style.overflow = \"hidden\";\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    var w1 = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    var w2 = inner.offsetWidth;\n    if (w1 === w2) w2 = outer.clientWidth;\n    document.body.removeChild(outer);\n    return w1 - w2;\n  },\n\n  /**\n   * <strong>changeScrollStatus(options)</strong>\n   * @param {Object} options (in options specify element with scroll bars and action: enable/disable)\n   * @returns {undefined}\n   */\n  changeScrollStatus: function changeScrollStatus(options) {\n    var what = \"html\";\n    var padding, visibility;\n\n    if (options.what) {\n      what = options.what;\n    }\n\n    if (options.disable) {\n      padding = this.getScrollBarWidth() + \"px\";\n      visibility = \"hidden\";\n    } else if (options.enable) {\n      padding = '0px';\n      visibility = \"scroll\";\n    }\n\n    if (padding) {\n      $(what).css({\n        'overflow-y': visibility,\n        'padding-right': padding\n      });\n    }\n  },\n\n  /**\n   * <strong>getCount(json)</strong>\n   * @param {Object} json\n   * @returns {Number} count\n   */\n  getCount: function getCount(json) {\n    var count = 0;\n    $.each(json, function (key, value) {\n      count += 1;\n    });\n    return count;\n  },\n\n  /** \n   * <strong>sortJSON(json, options)</strong>\n   * JSON to sorted array of keys/values.\n   * @param {Object} json\n   * @returns {Object} sorted json\n   * Function takes keys or values of input, \n   * creates array and returns sorted array.\n   * @param {Object} options\n   * 'options' is optional parameter and it can have:\n   * options.type - sort method - asc or desc (asc default - if not specified)\n   * options.byValue - if set, function will manipulate with values, if not,   \n   * function will manipulate with keys, by default  \n   */\n  sortJSON: function sortJSON(json, options) {\n    var arr = new Array();\n    $.each(json, function (key, value) {\n      if (options && options.byValue) {\n        if (options.byValue === true) {\n          arr.push(value);\n        } else {\n          arr.push(value[options.byValue]);\n        }\n      } else {\n        arr.push(key);\n      }\n    }); //sort - type default asc\n\n    if (options) {\n      if (options.desc) {\n        if (options.datatype && options.datatype === \"string\") {\n          //                    arr.reverse();\n          arr.sort(function (a, b) {\n            return b.toLowerCase().localeCompare(a.toLowerCase()); //                        if (a.toLowerCase() < b.toLowerCase()) return -1;\n            //                        if (a.toLowerCase() > b.toLowerCase()) return 1;\n            //                        return 0;\n          }); //'a'.localeCompare('c')\n        } else {\n          arr.sort(function (a, b) {\n            return b - a;\n          });\n        }\n      } else {\n        if (options.datatype && options.datatype === \"string\") {\n          //'a'.localeCompare('c')\n          arr.sort(function (a, b) {\n            return a.toLowerCase().localeCompare(b.toLowerCase()); //                        if (a.toLowerCase() < b.toLowerCase()) return -1;\n            //                        if (a.toLowerCase() > b.toLowerCase()) return 1;\n            //                        return 0;\n          });\n        } else {\n          arr.sort(function (a, b) {\n            return a - b;\n          });\n        }\n      }\n    } else {\n      arr.sort(function (a, b) {\n        return a - b;\n      });\n    }\n\n    return arr;\n  },\n\n  /**\n   * <strong>isEmpty(obj)</strong>\n   * @param {Object} obj\n   * @returns {Boolean} false if empty, true if not\n   */\n  isEmpty: function isEmpty(obj) {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) return false;\n    }\n\n    return true;\n  },\n\n  /**\n   * <strong>invert(json, options)</strong>\n   * <h1>D A N G E R O U S    M E T H O D ! ! ! - possible items loss</h1>\n   * @param {Object} json\n   * @param {Object} options\n   * @returns {Object}\n   */\n  // invertJSON: function (json, options) {\n  //     /** Keys become values, values become keys. \n  //      *  {key : value} -> {value : key}\n  //      *  For complex json (one level only - value consists inner json), \n  //      *  use options.inner = value1. \n  //      *  Other fields are ignored.\n  //      *  example:\n  //      *  {key : {value1 : value1, value2 : value2}} -> {value1 : key}\n  //      */\n  //     var new_json = {};\n  //     $.each(json, function (key, value) {\n  //         if (options && options.inner)\n  //             new_json[value[options.inner]] = key;\n  //         else\n  //             new_json[value] = key;\n  //     });\n  //     return new_json;\n  // },\n\n  /**\n   * <strong>isIntoView(el)</strong>\n   * @param {HTMLElement} el\n   * @returns {Boolean} true if element is scrolled into view\n   * @deprecated\n   */\n  isIntoView: function isIntoView(el) {\n    var et = el.getBoundingClientRect().top;\n    var eb = el.getBoundingClientRect().bottom;\n    var eh = el.getBoundingClientRect().height;\n    var wt = window.pageYOffset;\n    var wh = window.innerHeight; //        console.log(el);\n    //        console.log(`Element top: ${et} Element height: ${eh} Element bottom: ${eb} Window top: ${wt} Window height: ${wh}`);\n    //        console.log((et + eh > 0) && (et + eh < wh));\n\n    return et + eh > 0 && et < wh;\n  },\n\n  /**\n   * <strong>getFormattedDate(millis)</strong>\n   * @param {Number} millis - date in miliseconds\n   * @returns {String} - custom formatted date\n   */\n  getFormattedDate: function getFormattedDate(millis) {\n    var ret = \"\";\n    var d = new Date();\n    d.setTime(millis);\n    var hours = d.getHours();\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n\n    var minutes = d.getMinutes();\n\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n\n    ret = d.getDate() + \".\" + (d.getMonth() + 1) + \".\" + d.getFullYear() + \". \" + hours + \":\" + minutes;\n    return ret;\n  },\n\n  /**\n   * <strong>updateUserSettingsCookie(field, value)</strong>\n   * @param {String} field - 'user_setting' cookie value consists of 3 fields (idLanguage, idCountry, idCurrency)\n   * @param {String} value - new value of specified field\n   * @returns {undefined}\n   * @deprecated user_setting cookie removed\n   */\n  updateUserSettingsCookie: function updateUserSettingsCookie(field, value) {\n    var us = this.storage.get(OYO.cookieNames.user_setting, this.storage.types.COOKIE);\n    var x = us.split(\",\");\n    var l = x.length;\n    var is_changed = false;\n\n    for (var i = 0; i < l; i++) {\n      if (x[i].split(\":\")[0].toString() === field.toString()) {\n        us = us.replace(x[i], field + \":\" + value);\n        is_changed = true;\n        break;\n      }\n    }\n\n    if (is_changed) {\n      this.storage.set(OYO.cookieNames.user_setting, us, this.storage.types.COOKIE);\n    }\n  },\n\n  /**\n   * <strong>setCurrency(id)</strong>\n   * @param {Number} id - idCurrency\n   * @returns {undefined}\n   */\n  setCurrency: function setCurrency(id) {\n    id = parseInt(id); //if new currency is EUR, don't set cookie, delete if exists\n\n    if (id === 3) {\n      this.storage.remove(OYO.cookieNames.currency, this.storage.types.LOCAL);\n    } //if not EUR - create cookie\n    else {\n        this.storage.set(OYO.cookieNames.currency, id, this.storage.types.LOCAL);\n      }\n  },\n  //added for truck project\n\n  /**\n   * <strong>centerAbsoluteImage(imageWidth, imageHeight, containerWidth, containerHeight)</strong>\n   * @param {Number} imageWidth\n   * @param {Number} imageHeight\n   * @param {Number} containerWidth\n   * @param {Number} containerHeight\n   * @returns {Object} css object with style for centered image\n   */\n  centerAbsoluteImage: function centerAbsoluteImage(imageWidth, imageHeight, containerWidth, containerHeight) {\n    var css = {};\n    var containerWidthHeightRatio = containerHeight / containerWidth;\n\n    if (imageHeight / imageWidth > containerWidthHeightRatio) {\n      css.left = Math.abs(containerWidth - imageWidth * (containerHeight / imageHeight)) / 2 + \"px\";\n      css.height = \"100%\";\n      css.top = 0;\n      css.width = \"auto\";\n    } else if (imageHeight / imageWidth < containerWidthHeightRatio) {\n      css.top = Math.abs(containerHeight - imageHeight * (containerWidth / imageWidth)) / 2 + \"px\";\n      css.width = \"100%\";\n      css.left = 0;\n      css.height = \"auto\";\n    } else {\n      css.top = 0;\n      css.left = 0;\n      css.height = \"100%\";\n      css.width = \"100%\";\n    }\n\n    return css;\n  },\n\n  /**\n   * <strong>adjustImageJQ(img)</strong>\n   * @param {HTMLImageElement} img\n   * @returns {undefined}\n   */\n  adjustImageJQ: function adjustImageJQ(img) {\n    //do the job for img\n    var image = $(img);\n    var parent = image.parent();\n    var w = parent.width();\n    var h = parent.height();\n    var css = this.centerAbsoluteImage(image.width(), image.height(), w, h);\n    image.css(css).fadeIn(300);\n    parent.prev(\".loading\").fadeOut(300);\n  },\n\n  /**\n   * <strong>scrollToThat(params)</strong>\n   * @param {Object} params\n   * @returns {undefined}\n   */\n  scrollToThat: function scrollToThat(params) {\n    var duration = 100;\n\n    if (params.duration) {\n      duration = params.duration;\n    }\n\n    var top = 0;\n\n    if (params && params.what) {\n      top = params.what.offset().top;\n    }\n\n    var headerHeight = 0;\n\n    if ($('header').length > 0) {\n      headerHeight = $('header').height();\n    }\n\n    $('html, body').animate({\n      scrollTop: top - (headerHeight + 10)\n    }, duration);\n  },\n\n  /**\n   * <strong>getParams()</strong>\n   * @returns {Object} parameters for service call\n   */\n  getParams: function getParams(options) {\n    var params = {};\n\n    if (options && options.type) {\n      switch (options.type) {\n        case 'countries':\n          {\n            var keys = ['isNew', 'idPageType', 'idCountry', 'idLanguage', 'idDomain', 'idCurrency', 'idMake', 'idModel', 'idTrim', 'priceFrom', 'priceTo', 'yearFrom', 'yearTo', 'mileageFrom', 'mileageTo', 'idBodytype', 'idFueltype', 'zipCode', 'radius', 'idState', 'idCity', 'idTransmission', 'idColor', 'power', 'idRecord'];\n            $.each(keys, function (k, v) {\n              if (OYO.appParams[v] !== '') {\n                params[v] = OYO.appParams[v];\n              }\n            });\n            break;\n          }\n      }\n    } else {\n      $.each(OYO.appParams, function (key, value) {\n        if (value !== \"\") {\n          params[key] = value;\n        }\n      });\n    }\n\n    return params;\n  },\n  showNativeAppDownloadDialog: function showNativeAppDownloadDialog() {\n    var stopShowingIosMessage = this.storage.get(OYO.cookieNames.cookieIosStop);\n\n    if (stopShowingIosMessage === 'true') {} else {\n      var downloadLink = \"https://itunes.apple.com/us/app/ooyyo-car-search/id1409604054?mt=8\";\n      var html = '<div class=\"dialog-backdrop\" id=\"download-native-holder\"><div class=\"dialog\"><div class=\"close\">&times;</div><h1>' + OYO.labels.downloadiOSApp + '</h1><div class=\"text-center\"><a target=\"_blank\" href=\"' + downloadLink + '\"><img src=\"' + OYO.images.DOWNLOAD + '\"/></a></div><div><div class=\"checkbox\"><label><input type=\"checkbox\">' + OYO.labels.dontShowMessage + '</label></div></div></div></div>';\n\n      var remove = function remove() {\n        $(\"#download-native-holder\").fadeOut(150, function () {\n          $(\"#download-native-holder\").remove();\n        });\n        this.storage.set(OYO.cookieNames.cookieIosAppClosed, 'true');\n        this.storage.set(OYO.cookieNames.cookieIosAppQCounter, 1);\n      };\n\n      var iOS = !!navigator.platform && /iPhone|iPod/.test(navigator.platform);\n\n      if (iOS) {\n        var counter = this.storage.get(OYO.cookieNames.cookieIosAppQCounter);\n        var counterCheck = true;\n\n        if (counter === undefined) {//nista\n        } else {\n          counter = parseInt(counter);\n          counter += 1;\n\n          if (counter <= 5) {\n            counterCheck = false;\n          } else {\n            counter = 0;\n            this.storage.remove(OYO.cookieNames.cookieIosAppClosed);\n          }\n\n          this.storage.set(OYO.cookieNames.cookieIosAppQCounter, counter);\n        }\n\n        var m = !this.res.isDesktop();\n\n        if (counterCheck && m && this.storage.get(OYO.cookieNames.cookieIosAppClosed) === undefined) {\n          this.storage.remove(OYO.cookieNames.cookieIosAppQCounter);\n          $(\"body\").append(html);\n          $(\"#download-native-holder .checkbox\").click(function (e) {\n            var isChecked = $(this).find(\"input\").is(\":checked\");\n\n            if (isChecked) {\n              this.storage.set(OYO.cookieNames.cookieIosStop, 'true');\n            } else {\n              this.storage.set(OYO.cookieNames.cookieIosStop, 'false');\n            }\n\n            e.stopPropagation();\n          });\n          $(\"#download-native-holder a\").click(function () {\n            remove();\n            this.storage.set(OYO.cookieNames.cookieIosStop, 'true');\n          });\n          $(\"#download-native-holder\").click(function () {\n            remove();\n          });\n          $(\"#download-native-holder .close\").click(function (e) {\n            remove();\n            e.stopPropagation();\n          });\n        }\n      }\n    }\n  },\n  //     showInfoAboutCookie: function () {\n  //         var html = \"<div class='cookie-info-message-holder'><div class='cookie-box'><div class='times-cancel'>&times;</div><div class='row'><div class='col-xs-12'><div class='cookie-info-message'></div></div><div class='col-xs-12 text-right'><a href='javascript:void(0)' class='btn btn-indigo pull-right more-info'></a><button class='btn btn-indigo pull-right'></button></div><div class='col-xs-12 text-center'><a class='cookie-footer' href=''></a></div></div></div></div>\";\n  //         if (this.storage.get(OYO.cookieNames.cookieInfoMessage) === undefined) {\n  //             var str = OYO.labels.longCookies_GDPR;\n  //             var patt = /(\\[link\\].+?\\[\\/link\\])/g;\n  //             var res = patt.exec(str)[0];\n  //             var link = \"<a href='\" + OYO.URLs.cookiePolicy + \"'>\" + res.replace('[link]', '').replace('[/link]', '') + \"</a>\";\n  //             str = str.replace(res, link);\n  //             $(\"body\").append(html);\n  //             $(\".cookie-info-message-holder .cookie-info-message\").html(str);\n  //             $(\".cookie-info-message-holder button\").text(OYO.labels.acceptGdpr);\n  //             $(\".cookie-info-message-holder .cookie-footer\").text(OYO.labels.cookiesGdprSmall);\n  //             $(\".cookie-info-message-holder .cookie-footer\").attr(\"href\", OYO.URLs.cookiePolicy + \"_choices\");\n  //             $(\".cookie-info-message-holder a.more-info\").hide().text(OYO.labels.moreInfo).click(function () {\n  //                 $(\".cookie-info-message-holder\").removeClass('mini');\n  //                 $(\".cookie-box\").removeClass('mini');\n  //                 $(\".cookie-info-message-holder .cookie-info-message\").show();\n  //                 $(\".cookie-info-message-holder button\").show();\n  //                 $(\".cookie-info-message-holder a.more-info\").hide();\n  //                 $(\".cookie-info-message-holder .times-cancel\").show();\n  //                 $(\".cookie-info-message-holder .cookie-footer\").show();\n  //             });\n  // //                    .click(function(){\n  // //                if($(this).hasClass('minimized')){\n  // //                    $(\".cookie-box\").removeClass('mini');\n  // //                    $(\".cookie-info-message-holder .cookie-info-message\").show();\n  // //                    $(\".cookie-info-message-holder button\").show();\n  // //                    $(this).removeClass('minimized').text('Cancel');\n  // //                }else{\n  // //                    $(\".cookie-box\").addClass('mini');\n  // //                    $(\".cookie-info-message-holder .cookie-info-message\").hide();\n  // //                    $(\".cookie-info-message-holder button\").hide();\n  // //                    $(this).addClass('minimized').text('Show message');\n  // //                }\n  // //            });\n  //             $(\".cookie-info-message-holder .times-cancel\").click(function () {\n  //                 $(\".cookie-info-message-holder\").addClass('mini');\n  //                 $(\".cookie-box\").addClass('mini');\n  //                 $(\".cookie-info-message-holder .cookie-info-message\").hide();\n  //                 $(\".cookie-info-message-holder button\").hide();\n  //                 $(\".cookie-info-message-holder a.more-info\").show();\n  //                 $(\".cookie-info-message-holder .cookie-footer\").hide();\n  //                 $(this).hide();\n  //             });\n  //             $(\".cookie-info-message-holder button\").click(function () {\n  //                 this.storage.set(OYO.cookieNames.cookieInfoMessage, 'true');\n  //                 $(\".cookie-info-message-holder\").remove();\n  //             });\n  //             setTimeout(function () {\n  //                 $(\".cookie-info-message-holder\").animate({bottom: 0}, 700);\n  //             }, 3000);\n  //         }\n  //     },\n  //     showInfoAndroidApp: function () {\n  //         var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n  //         if (!iOS) {\n  //             var counter = this.storage.get(OYO.cookieNames.cookieAndroidAppQCounter);\n  //             var counterCheck = true;\n  //             if (counter === undefined) {\n  //                 //nista\n  //             } else {\n  //                 counter = parseInt(counter);\n  //                 counter += 1;\n  //                 if (counter <= 5) {\n  //                     counterCheck = false;\n  //                 } else {\n  //                     counter = 0;\n  //                     this.storage.remove(OYO.cookieNames.cookieAndroidAppClosed);\n  //                 }\n  //                 this.storage.set(OYO.cookieNames.cookieAndroidAppQCounter, counter);\n  //             }\n  //             var m = !this.res.isDesktop();\n  //             if (counterCheck && m && this.storage.get(OYO.cookieNames.cookieAndroidAppClosed) === undefined) {\n  //                 this.storage.remove(OYO.cookieNames.cookieAndroidAppQCounter);\n  //                 var self = this;\n  // //                var html = \"<div class='promo-app-old'>\\n\\\n  // //                            <div>\\n\\\n  // //                                <img src='\" + OYO.images.GOOGLE_PLAY + \"' alt='Google Play'/>\\n\\\n  // //                                <div class='text'>\\n\\\n  // //                                    <span class='link'>\" + OYO.labels.downloadAndroidApp + \"</span>\\n\\\n  // //                                </div>\\n\\\n  // //                                <span class='info'>\" + OYO.labels.moreCountriesAndFeatures + \"</span>\\n\\\n  // //                                <span class='close'>&times;</span>\\n\\\n  // //                            </div>\\n\\\n  // //                        </div>\";\n  //                 var html = \"<a href='https://play.google.com/store/apps/details?id=com.oyo.oyoapp' target='_blank' class='promo-app _js-count-android-promo'>\\n\\\n  //                                 <span class='close'>&times;</span>\\n\\\n  //                                 <div class='middle'>\\n\\\n  //                                     <img class='head' src='\" + OYO.images.OOYYO_HEAD + \"' alt=''>\\n\\\n  //                                     <div class='gp-rating'>\\n\\\n  //                                         <span>OOYYO Android</span>\\n\\\n  //                                         <img src='\" + OYO.images.RATING + \"' alt=''>\\n\\\n  //                                     </div>\\n\\\n  //                                     <img class='gp-badge' src='\" + OYO.images.GP_BADGE + \"' alt=''>\\n\\\n  //                                 </div>\\n\\\n  //                                 <div class='bottom'>\\n\\\n  //                                     <div class='info'>\" + OYO.labels.moreCountriesAndFeatures + \"</div>\\n\\\n  //                                 </div>\\n\\\n  //                             </a>\";\n  //                 $(\"header\").before(html);\n  //                 var x = $('.promo-app').outerHeight();\n  //                 $('.promo-app').css({\n  //                     top: -x\n  //                 });\n  //                 $(\"section, footer\").css('position', 'relative');\n  //                 $(\"header, .under-header, section, footer, .above-footer\").animate({\n  //                     top: x\n  //                 }, {duration: 500, queue: false});\n  //                 $('.promo-app').animate({\n  //                     top: 0\n  //                 }, {duration: 500, queue: false});\n  //                 $('.promo-app .close').click(function (e) {\n  //                     //clearInterval(focusInt);\n  //                     $(\"header, .under-header, section, footer, .above-footer\").animate({\n  //                         top: 0\n  //                     }, {duration: 500, queue: false});\n  //                     $('.promo-app').animate({\n  //                         top: -x\n  //                     }, {duration: 500, queue: false}, function () {\n  //                         $(\".promo-app\").remove();\n  //                     });\n  //                     this.storage.set(OYO.cookieNames.cookieAndroidAppClosed, 'true');\n  //                     this.storage.set(OYO.cookieNames.cookieAndroidAppQCounter, 1);\n  //                     e.stopPropagation();\n  //                     return false;\n  //                 });\n  //             }\n  //         }\n  //     },\n  // createContextMenu: function () {\n  //     $('body').append('<ul class=\"contextmenu\"><li class=\"goto\">Open in new tab</li><li class=\"close\">Close</li></ul>');\n  //     return $(\"body .contextmenu\");\n  // },\n  // showContextMenu: function (options) {\n  //     var ctxmenu = $(\"body .contextmenu\");\n  //     if (ctxmenu.length === 0) {\n  //         ctxmenu = this.createContextMenu();\n  //     }\n  //     ctxmenu.attr('data-where', options.url);\n  //     ctxmenu.attr('data-isencoded', options.encoded);\n  //     ctxmenu.show();\n  //     return false;\n  // },\n  //@NOTE check if used\n  // lockScreen: function () {\n  //     var html = \"<div class='full-screen-lock'><img src='\" + OYO.images.LOADING_2 + \"' alt='...'></div>\";\n  //     $('body').append(html);\n  //     var img = $('.full-screen-lock img');\n  //     var top = ($(window).height() - img.height()) / 2;\n  //     var left = ($(window).width() - img.width()) / 2;\n  //     img.css({\n  //         top: top,\n  //         left: left\n  //     });\n  //     $('.full-screen-lock').fadeIn(500);\n  // },\n  // unlockScreen: function () {\n  //     $('.full-screen-lock').fadeOut(300).remove();\n  // },\n  getConvertedPrice: function getConvertedPrice(ammount, srcCurrency, destCurrency) {\n    var ret = ammount;\n\n    if (srcCurrency.idCurrency !== destCurrency.idCurrency) {\n      ret = ammount * srcCurrency.refValueMap.EUR / destCurrency.refValueMap.EUR;\n    }\n\n    return ret;\n  },\n  getFormattedPrice: function getFormattedPrice(price, delimiter, symbol, order) {\n    var arr = [];\n    order = order.toString();\n    price = parseInt(price, 10);\n    price = price.toString().split('');\n    var l = price.length;\n\n    for (var i = l - 1; i >= 0; i--) {\n      var j = l - i - 1;\n\n      if (j > 0 && j % 3 === 0) {\n        if (!(l % 3 === 0 && j === l - 1)) {\n          arr.unshift(delimiter);\n        }\n      }\n\n      arr.unshift(price[i]);\n    }\n\n    var ret = arr.join('');\n\n    if (order === '1') {\n      ret = symbol + ' ' + ret;\n    } else {\n      ret = ret + ' ' + symbol;\n    }\n\n    return ret;\n  },\n  getCarPrices: function getCarPrices(currencies, cidCurrency, cPrice) {\n    var cCurrency = currencies.filter(function (item) {\n      return item.idCurrency == cidCurrency;\n    })[0];\n    var uidCurrency = OYO.utils.storage.get(OYO.cookieNames.currency);\n    var uCurrency = currencies.filter(function (item) {\n      return item.idCurrency == uidCurrency;\n    })[0];\n    var cPriceFormatted = OYO.utils.getFormattedPrice(cPrice, OYO.Other.priceDelimiter, cCurrency.iso, OYO.Other.priceCurrency);\n\n    if (uidCurrency) {\n      uidCurrency = uidCurrency.toString();\n\n      if (cidCurrency == uidCurrency) {\n        return {\n          primary: cPriceFormatted,\n          secondary: ''\n        };\n      } else {\n        var uPriceConverted = OYO.utils.getConvertedPrice(cPrice, cCurrency, uCurrency);\n        var uPriceFormatted = OYO.utils.getFormattedPrice(uPriceConverted, OYO.Other.priceDelimiter, uCurrency.iso, OYO.Other.priceCurrency);\n        return {\n          primary: uPriceFormatted,\n          secondary: cPriceFormatted\n        };\n      }\n    }\n  },\n  logParams: function logParams(params) {\n    fetch(\"//analytics.ooyyo.com/ooyyo-services/resources/counter/ip_search_country?json=\".concat(encodeURIComponent(JSON.stringify(params))));\n  },\n  addDeviceTypeToURL: function addDeviceTypeToURL(url) {\n    if (url.indexOf('analytics.ooyyo.com/counter') > -1) {\n      url += \"&deviceType=\" + this.res.getScreenType();\n    }\n\n    return url;\n  },\n  showFullPagePreloader: function showFullPagePreloader() {\n    $(\"body\").append(\"\\n            <div class=\\\"loader-wrapper\\\">\\n                <div class=\\\"lds-roller\\\">\\n                    <div></div>\\n                    <div></div>\\n                    <div></div>\\n                    <div></div>\\n                    <div></div>\\n                    <div></div>\\n                    <div></div>\\n                    <div></div>\\n                </div>\\n            </div>\\n        \");\n  },\n  showPageScrollbar: function showPageScrollbar() {\n    $(\"body\").removeClass('noscroll');\n  },\n  hidePageScrollbar: function hidePageScrollbar() {\n    $(\"body\").addClass('noscroll');\n  }\n}; //export class Utils{\n//    static create(){\n//        return utils;\n//    }\n//}\n\n},{\"./base64.js\":2,\"./ooyyo-storage.js\":3,\"./responsive-helper.js\":4}]},{},[5]);\n"],"file":"utils.min.js"}